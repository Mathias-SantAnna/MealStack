/*       CSS Custom Properties for Orange Theme System       */
:root {
    /* Primary Orange Palette */
    --primary-color: #ff6b35;
    --primary-hover: #e55a2b;
    --primary-active: #d73502;
    --primary-light: #ffa366;
    --primary-dark: #d73502;

    /* Supporting Earth Tones */
    --secondary-color: #8d5524;
    --secondary-hover: #7a4a1f;
    --cinnamon: #8d5524;
    --coffee: #6b4423;
    --dark-chocolate: #2c1810;
    --sandy-brown: #f4a460;

    /* Status Colors */
    --success-color: #28a745;
    --warning-color: #ffc107;
    --danger-color: #dc3545;
    --info-color: #17a2b8;

    /* Light Theme Variables (Default) */
    --bg-primary: #fef7f0;          
    --bg-secondary: #fff5f0;        
    --bg-tertiary: #f4a460;         
    --bg-white: #ffffff;            

    --text-primary: #2c1810;        
    --text-secondary: #6b4423;      
    --text-muted: #8d5524;          

    --border-color: #f4a460;        
    --border-light: #ffa366;        

    --card-bg: #ffffff;             
    --navbar-bg: #ffffff;           
    --navbar-text: #2c1810;         

    --btn-bg: #ffffff;              
    --btn-text: #2c1810;           

    --input-bg: #ffffff;            
    --input-border: #f4a460;      
    --input-text: #2c1810;         

    --shadow: rgba(255, 107, 53, 0.15);        
    --shadow-hover: rgba(255, 107, 53, 0.25);  
    --overlay-bg: rgba(254, 247, 240, 0.95);   

    /* Orange Theme Specific Variables */
    --orange-gradient: linear-gradient(135deg, #ff6b35 0%, #d73502 100%);
    --warm-gradient: linear-gradient(135deg, #fef7f0 0%, #fff5f0 100%);
    --accent-gradient: linear-gradient(135deg, #f4a460 0%, #8d5524 100%);

    /* Transition speed */
    --transition-speed: 0.3s;
}

/*      Dark Theme Variables        */
[data-theme="dark"] {
    --bg-primary: #2c1810;          
    --bg-secondary: #3d2517;        
    --bg-tertiary: #4a2d1c;         
    --bg-white: #ffffff;            

    --text-primary: #fef7f0;        
    --text-secondary: #f4a460;      
    --text-muted: #8d5524;          

    --border-color: #6b4423;        
    --border-light: #8d5524;        

    --card-bg: #ffffff;             
    --navbar-bg: #2c1810;           
    --navbar-text: #fef7f0;         

    --btn-bg: #6b4423;              
    --btn-text: #fef7f0;           

    --input-bg: #ffffff;            
    --input-border: #8d5524;        
    --input-text: #2c1810;          

    --shadow: rgba(0, 0, 0, 0.3);
    --shadow-hover: rgba(0, 0, 0, 0.4);
    --overlay-bg: rgba(44, 24, 16, 0.8);   
}

/*     GLOBAL THEME APPLICATION     */

/* Base body styling - Light theme */
body {
    background: var(--warm-gradient);
    color: var(--text-primary);
    transition: background-color var(--transition-speed) ease, color var(--transition-speed) ease;
}

/* Dark theme body  */
[data-theme="dark"] body {
    background-color: #2c1810 !important;
    color: #fef7f0 !important;
}

/* Dark theme */
[data-theme="dark"] html,
[data-theme="dark"] body,
[data-theme="dark"] .container,
[data-theme="dark"] .container-fluid {
    background-color: #2c1810 !important;
}

/*  cards  - Light theme */
.card {
    background-color: var(--card-bg) !important;
    border-color: var(--border-light);
    color: var(--text-primary);
    box-shadow: 0 4px 16px var(--shadow);
    border-radius: 12px;
    transition: all var(--transition-speed) ease;
}

.card:hover {
    box-shadow: 0 8px 24px var(--shadow-hover);
    transform: translateY(-2px);
}

/* Dark theme card handling */
[data-theme="dark"] .card {
    background-color: #ffffff !important;
    color: #2c1810 !important;
    border-color: var(--border-light) !important;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.4) !important;
}

/* Card body, text, title in dark theme */
[data-theme="dark"] .card-body,
[data-theme="dark"] .card-text,
[data-theme="dark"] .card-title {
    color: #2c1810 !important;
}

.card-header {
    background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-tertiary) 100%);
    border-color: var(--border-light);
    color: var(--text-primary);
    font-weight: 600;
}

/* Dark theme card headers - Create/Edit Recipe & MealPlan */
[data-theme="dark"] .card-header {
    background: #ffffff !important;
    border-color: var(--border-light) !important;
    color: #2c1810 !important;
}

[data-theme="dark"] .card-header h1,
[data-theme="dark"] .card-header h2,
[data-theme="dark"] .card-header h3,
[data-theme="dark"] .card-header h4,
[data-theme="dark"] .card-header h5,
[data-theme="dark"] .card-header h6 {
    color: #2c1810 !important;
}

#ingredients-container {
    background-color: #ffffff !important;
    border: 2px dashed var(--border-light);
    border-radius: 12px;
    padding: 1rem;
    transition: all 0.3s ease;
}

[data-theme="dark"] #ingredients-container {
    background-color: #ffffff !important;
    color: #2c1810 !important;
}

.card-footer {
    background-color: var(--bg-secondary);
    border-color: var(--border-light);
    color: var(--text-primary);
}

[data-theme="dark"] .card-footer {
    background-color: #fff5f0 !important;
    border-color: var(--border-light) !important;
    color: var(--text-primary) !important;
}

/* Navigation with gradient - BOTH THEMES */
.navbar {
    background: linear-gradient(135deg, #ff6b35 0%, #d73502 100%) !important;
    border-bottom: 2px solid var(--primary-color);
    box-shadow: 0 2px 8px var(--shadow);
}

.navbar .navbar-brand,
.navbar .nav-link,
.navbar .dropdown-toggle {
    color: #fef7f0 !important; 
    font-weight: 600;
}

.navbar .navbar-brand {
    font-size: 1.5rem;
    text-shadow: 2px 2px 4px rgba(44, 24, 16, 0.5);
    transition: all 0.3s ease;
}

/* MealStack icon color to white */
.navbar .navbar-brand i {
    color: #ffffff !important;
}

/* Light theme MealStack title color */
.navbar .navbar-brand {
    color: #fef7f0 !important;
}

/* Dark theme MealStack title stays clear */
[data-theme="dark"] .navbar .navbar-brand {
    color: #fef7f0 !important;
}

.navbar .navbar-brand:hover,
.navbar .nav-link:hover {
    color: #ffffff !important;
    background-color: rgba(254, 247, 240, 0.1);
    transform: translateY(-1px);
}

.navbar .nav-link {
    transition: all var(--transition-speed) ease;
    border-radius: 8px;
    margin: 0 4px;
}

.navbar .dropdown-menu {
    background-color: #ffffff;
    border: 2px solid #ff6b35;
}

.navbar .dropdown-item {
    color: #2c1810 !important;
}

.navbar .dropdown-item:hover {
    background-color: #fef7f0;
    color: #ff6b35 !important;
}

/*      Page Header Container Styles         */

/* Light Theme - Page Header */
.container-fluid.bg-light.py-4.mb-4,
.page-header,
.hero-section {
    background-color: #ffffff !important;
    border: 2px solid #ff6b35;
    border-radius: 16px;
    margin-bottom: 2rem;
    padding: 2rem;
    box-shadow: 0 4px 16px rgba(255, 107, 53, 0.1);
}

/* Ensure page header content stays readable */
.container-fluid.bg-light h1,
.page-header h1 {
    color: #2c1810 !important;
}

.container-fluid.bg-light p.text-muted,
.page-header p.text-muted {
    color: #6b4423 !important;
}

/* Dark Theme - Page Header */
[data-theme="dark"] .container-fluid.bg-light.py-4.mb-4,
[data-theme="dark"] .page-header {
    background-color: #2c1810 !important;
    border: 2px solid #ff6b35;
    color: #fef7f0 !important;
}

[data-theme="dark"] .container-fluid.bg-light h1,
[data-theme="dark"] .page-header h1 {
    color: #fef7f0 !important;
}

[data-theme="dark"] .container-fluid.bg-light p.text-muted,
[data-theme="dark"] .page-header p.text-muted {
    color: #fef7f0 !important;
}

/* Categories Bar - Both Themes */
.categories-section,
.categories-showcase,
.category-nav-container {
    background-color: #FFDEAD !important;
    border: 2px solid #ff6b35;
    border-radius: 16px;
    padding: 1.5rem;
    margin-bottom: 2rem;
    box-shadow: 0 4px 12px rgba(255, 107, 53, 0.15);
}

[data-theme="dark"] .categories-section,
[data-theme="dark"] .categories-showcase,
[data-theme="dark"] .category-nav-container {
    background-color: #ffffff !important;
    border: 2px solid #ff6b35;
    border-radius: 16px;
}

/* Dark Theme - Main Page Titles (like Create Recipe) */
[data-theme="dark"] h1:not(.card-header h1):not(.navbar h1),
[data-theme="dark"] .container h1,
[data-theme="dark"] .container-fluid h1 {
    color: #fef7f0 !important;
}

/*       BUTTON STYLES       */

/* Primary buttons  - Light theme */
.btn-primary {
    background: var(--orange-gradient);
    border-color: var(--primary-color);
    color: white;
    font-weight: 600;
    border-radius: 8px;
    transition: all var(--transition-speed) ease;
    box-shadow: 0 2px 8px rgba(255, 107, 53, 0.2);
}

.btn-primary:hover {
    background: var(--primary-hover);
    border-color: var(--primary-hover);
    color: white;
    transform: translateY(-2px);
    box-shadow: 0 4px 16px rgba(255, 107, 53, 0.3);
}

/* My Recipes button styling */
.btn-my-recipes {
    background-color: #8d5524 !important;
    color: white !important;
    border: none;
    font-weight: 600;
    transition: all var(--transition-speed) ease;
}

.btn-my-recipes:hover {
    background-color: #6b4423 !important;
    color: white !important;
    transform: translateY(-2px);
}

/* Secondary buttons with cinnamon theme */
.btn-secondary {
    background-color: var(--secondary-color);
    border-color: var(--secondary-color);
    color: white;
    font-weight: 600;
    transition: all var(--transition-speed) ease;
}

.btn-secondary:hover {
    background-color: var(--secondary-hover);
    border-color: var(--secondary-hover);
    color: white;
    transform: translateY(-2px);
}

/* Recipe card buttons - WHITE BACKGROUND */
.recipe-card .btn {
    background-color: white !important;
    color: #2c1810 !important;
    border: 2px solid #dee2e6;
    font-weight: 600;
    transition: all var(--transition-speed) ease;
}

.recipe-card .btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
}

.recipe-card .btn-outline-danger {
    border-color: #dc3545 !important;
    color: #dc3545 !important;
    background-color: white !important;
}

.recipe-card .btn-outline-danger:hover {
    background-color: #dc3545 !important;
    color: white !important;
}

/* Meal plan card buttons - WHITE BACKGROUND */
.meal-plan-card .btn-outline-primary,
.meal-plan-card .btn-outline-success {
    background-color: white !important;
    color: #2c1810 !important;
    border: 2px solid currentColor;
    font-weight: 600;
}

/* Admin dashboard buttons with category borders */
.admin-card .btn {
    background-color: white !important;
    color: #2c1810 !important;
    border: 2px solid;
    font-weight: 600;
}

.admin-card .btn-primary { border-color: #007bff !important; }
.admin-card .btn-success { border-color: #28a745 !important; }
.admin-card .btn-warning { border-color: #ffc107 !important; }
.admin-card .btn-danger { border-color: #dc3545 !important; }
.admin-card .btn-info { border-color: #17a2b8 !important; }

/* "Add New Ingredient" and "Add Ingredient" buttons in dark theme */
[data-theme="dark"] #add-new-ingredient-btn,
[data-theme="dark"] #add-ingredient-btn,
[data-theme="dark"] .btn[id*="ingredient"],
[data-theme="dark"] button[id*="ingredient"] {
    background-color: #ffffff !important;
    color: #2c1810 !important;
    border: 2px solid #dee2e6 !important;
}

[data-theme="dark"] #add-new-ingredient-btn:hover,
[data-theme="dark"] #add-ingredient-btn:hover {
    background-color: #f8f9fa !important;
    color: #2c1810 !important;
    border-color: #ff6b35 !important;
}

/* Outline buttons  - Light theme */
.btn-outline-primary {
    color: var(--primary-color);
    border-color: var(--primary-color);
    background-color: transparent;
    font-weight: 600;
}

.btn-outline-primary:hover {
    background-color: var(--primary-color);
    border-color: var(--primary-color);
    color: white;
    transform: translateY(-2px);
}

.btn-outline-secondary {
    color: var(--secondary-color);
    border-color: var(--secondary-color);
    background-color: transparent;
}

.btn-outline-secondary:hover {
    background-color: var(--secondary-color);
    border-color: var(--secondary-color);
    color: white;
}

/*      FORM ENHANCEMENTS        */

/*  forms  - Light theme */
.form-control,
.form-select {
    background-color: var(--input-bg);
    border: 2px solid var(--border-light);
    color: var(--input-text);
    border-radius: 8px;
    padding: 0.75rem 1rem;
    transition: all var(--transition-speed) ease;
}

.form-control:focus,
.form-select:focus {
    background-color: var(--input-bg);
    border-color: var(--primary-color);
    color: var(--input-text);
    box-shadow: 0 0 0 0.25rem rgba(255, 107, 53, 0.25);
    transform: translateY(-1px);
}

/* Dark theme form */
[data-theme="dark"] .form-control,
[data-theme="dark"] .form-select,
[data-theme="dark"] .form-check-label,
[data-theme="dark"] .form-label {
    background-color: #ffffff !important;
    border-color: var(--border-light) !important;
    color: #2c1810 !important;
}

[data-theme="dark"] .form-control:focus,
[data-theme="dark"] .form-select:focus {
    background-color: #ffffff !important;
    border-color: var(--primary-color) !important;
    color: #2c1810 !important;
    box-shadow: 0 0 0 0.25rem rgba(255, 107, 53, 0.25) !important;
}

/*      RECIPE DETAILS PAGE      */

/* Dark Theme - Recipe Details Ingredients & Instructions */
[data-theme="dark"] .recipe-section,
[data-theme="dark"] .ingredients-section,
[data-theme="dark"] .instructions-section {
    color: #2c1810 !important;
}

[data-theme="dark"] .recipe-section h3,
[data-theme="dark"] .recipe-section-title,
[data-theme="dark"] .ingredients-list,
[data-theme="dark"] .instructions-list,
[data-theme="dark"] .ingredients-list li,
[data-theme="dark"] .instructions-list li {
    color: #2c1810 !important;
}

/* Dark Theme - Rating System Card - WHITE BACKGROUND ONLY */
[data-theme="dark"] .rating-widget,
[data-theme="dark"] .rating-system,
[data-theme="dark"] .rating-container {
    background-color: #ffffff !important;
    background-image: none !important;
    background: #ffffff !important;
    color: #2c1810 !important;
}

[data-theme="dark"] .rating-widget h6,
[data-theme="dark"] .rating-widget h5,
[data-theme="dark"] .rating-widget .current-rating {
    color: #2c1810 !important;
}

/* Dark Theme - Recipe Header Container */
[data-theme="dark"] .recipe-header {
    background-color: #fef7f0 !important;
    background-image: none !important;
    background: #fef7f0 !important;
    color: #2c1810 !important;
}

[data-theme="dark"] .recipe-header h1,
[data-theme="dark"] .recipe-header p,
[data-theme="dark"] .recipe-header .lead {
    color: #2c1810 !important;
}

/* Recipe title text color in dark theme */
[data-theme="dark"] .recipe-header h1,
[data-theme="dark"] .recipe-title,
[data-theme="dark"] h1.recipe-title {
    color: #2c1810 !important;
}

/*      CATEGORY NAVIGATION - GLASS STYLE       */

/* Glass-style category buttons with colored borders */
.category-pill {
    background: rgba(255, 255, 255, 0.9) !important;
    color: #2c1810 !important;
    border: 2px solid transparent;
    border-radius: 2rem;
    padding: 0.6rem 1.5rem;
    font-weight: 600;
    font-size: 1rem;
    margin: 0.25rem 0.5rem 0.25rem 0;
    text-decoration: none;
    display: inline-block;
    backdrop-filter: blur(10px);
    transition: all var(--transition-speed) ease;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.category-pill:hover,
.category-pill.active {
    background: rgba(255, 255, 255, 1) !important;
    color: #2c1810 !important;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

/* Category-specific borders */
.category-pill[data-category="breakfast"] { border-color: #ffc107; }
.category-pill[data-category="lunch"] { border-color: #17a2b8; }
.category-pill[data-category="dinner"] { border-color: #6f42c1; }
.category-pill[data-category="dessert"] { border-color: #e83e8c; }
.category-pill[data-category="appetizer"] { border-color: #fd7e14; }
.category-pill[data-category="snack"] { border-color: #28a745; }
.category-pill[data-category="vegetarian"] { border-color: #20c997; }
.category-pill[data-category="vegan"] { border-color: #6f42c1; }

/* Fallback for categories without specific colors */
.category-pill:not([data-category]) {
    border-color: var(--primary-color);
}

/*       COMPONENT STYLES       */

/*  alerts  - Light theme */
.alert {
    border: none;
    border-radius: 12px;
    border-left: 4px solid;
    margin-bottom: 1.5rem;
    padding: 1rem 1.5rem;
    font-weight: 500;
}

.alert-success {
    background: linear-gradient(135deg, rgba(40, 167, 69, 0.1) 0%, rgba(40, 167, 69, 0.05) 100%);
    color: var(--success-color);
    border-left-color: var(--success-color);
}

.alert-danger {
    background: linear-gradient(135deg, rgba(220, 53, 69, 0.1) 0%, rgba(220, 53, 69, 0.05) 100%);
    color: var(--danger-color);
    border-left-color: var(--danger-color);
}

.alert-warning {
    background: linear-gradient(135deg, rgba(255, 193, 7, 0.1) 0%, rgba(255, 193, 7, 0.05) 100%);
    color: #b38600;
    border-left-color: var(--warning-color);
}

.alert-info {
    background: linear-gradient(135deg, rgba(23, 162, 184, 0.1) 0%, rgba(23, 162, 184, 0.05) 100%);
    color: var(--info-color);
    border-left-color: var(--info-color);
}

/* alerts in dark theme */
[data-theme="dark"] .alert {
    background-color: #ffffff !important;
    border-color: #ff6b35 !important;
}

/*  badges  - Light theme */
.badge {
    font-weight: 600;
    padding: 0.5rem 0.75rem;
    border-radius: 0.5rem;
    font-size: 0.875rem;
}

.badge.bg-primary {
    background: var(--orange-gradient) !important;
}

.badge.bg-secondary {
    background-color: var(--secondary-color) !important;
}

/*      TEXT AND BACKGROUND UTILITIES        */

/* Text colors */
.text-muted {
    color: var(--text-muted) !important;
}

.text-secondary {
    color: var(--text-secondary) !important;
}

/* Backgrounds */
.bg-light {
    background-color: var(--bg-secondary) !important;
}

/*      ADDITIONAL DARK THEME         */

/* Dropdown menus in dark theme */
[data-theme="dark"] .dropdown-menu {
    background-color: #ffffff !important;
    border-color: #ff6b35 !important;
}

[data-theme="dark"] .dropdown-item {
    color: #2c1810 !important;
}

[data-theme="dark"] .dropdown-item:hover {
    background-color: #fef7f0 !important;
    color: #ff6b35 !important;
}

/* breadcrumbs in dark theme */
[data-theme="dark"] .breadcrumb {
    background-color: #ffffff !important;
}

[data-theme="dark"] .breadcrumb-item a {
    color: #ff6b35 !important;
}

/* tables in dark theme */
[data-theme="dark"] .table {
    background-color: #ffffff !important;
    color: #2c1810 !important;
}

[data-theme="dark"] .table th,
[data-theme="dark"] .table td {
    color: #2c1810 !important;
    border-color: #dee2e6 !important;
}

/* modals in dark theme */
[data-theme="dark"] .modal-content {
    background-color: #ffffff !important;
    color: #2c1810 !important;
}

[data-theme="dark"] .modal-header,
[data-theme="dark"] .modal-body,
[data-theme="dark"] .modal-footer {
    background-color: #ffffff !important;
    color: #2c1810 !important;
}

/*      RESPONSIVE ENHANCEMENTS         */

@media (max-width: 768px) {
    .category-pill {
        padding: 0.5rem 1rem;
        font-size: 0.9rem;
        margin: 0.2rem 0.3rem;
    }

    .btn {
        padding: 0.6rem 1.2rem;
        font-size: 0.9rem;
    }

    .hero-section {
        padding: 2rem 0;
    }

    .container-fluid.bg-light.py-4.mb-4,
    .page-header {
        padding: 1.5rem;
        border-radius: 12px;
    }

    [data-theme="dark"] .container-fluid.bg-light.py-4.mb-4,
    [data-theme="dark"] .page-header {
        padding: 1.5rem;
    }
}

@media (max-width: 480px) {
    .navbar .navbar-brand {
        font-size: 1.25rem;
    }

    .container-fluid.bg-light.py-4.mb-4,
    .page-header {
        padding: 1rem;
        border-radius: 8px;
    }
}

/*      TRANSITIONS AND ANIMATIONS      */

/*  transitions for orange theme */
* {
    transition: background-color var(--transition-speed) ease,
    color var(--transition-speed) ease,
    border-color var(--transition-speed) ease,
    transform var(--transition-speed) ease;
}

/* Disable transitions for form elements to prevent interference */
.form-control,
.form-select,
.form-check-input {
    transition: border-color var(--transition-speed) ease,
    box-shadow var(--transition-speed) ease,
    transform var(--transition-speed) ease !important;
}

/*      THEME SWITCHING     */

html {
    transition: background-color var(--transition-speed) ease;
}

.theme-indicator {
    opacity: 0.7;
    font-size: 0.9rem;
    margin-left: 0.5rem;
    color: var(--primary-color);
}

/*      PRINT STYLES      */

@media print {
    * {
        background-color: white !important;
        color: black !important;
        border-color: #cccccc !important;
        box-shadow: none !important;
    }

    .btn {
        background-color: white !important;
        color: black !important;
        border: 1px solid #cccccc !important;
    }
}