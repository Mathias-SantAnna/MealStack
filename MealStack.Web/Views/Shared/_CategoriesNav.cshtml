<div class="container mb-4">
    <div class="d-flex overflow-auto pb-2 category-nav-container">
        <!-- All Categories Button -->
        <a href="@Url.Action(ViewData["SearchAction"]?.ToString() ?? "Index", "Recipe")"
           class="category-pill @(ViewBag.SelectedCategoryId == null ? "active" : "")"
           data-category="all">
            All
        </a>

        @if (ViewBag.Categories != null)
        {
            foreach (var category in ViewBag.Categories)
            {
                <!-- Individual Category Buttons -->
                <a href="@Url.Action(ViewData["SearchAction"]?.ToString() ?? "Index", "Recipe", new { categoryId = category.Id })"
                   class="category-pill @(ViewBag.SelectedCategoryId != null && ViewBag.SelectedCategoryId == category.Id ? "active" : "")"
                   data-category="@category.Name.ToLower()"
                   data-category-id="@category.Id">
                    @category.Name
                </a>
            }
        }
    </div>
</div>